<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Will You Be My Valentine?</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: #000;
            color: #fff;
            font-family: 'Press Start 2P', cursive;
            height: 100vh;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .container {
            text-align: center;
            z-index: 10;
        }

        h1 {
            font-size: 2rem;
            margin-bottom: 50px;
            text-shadow: 4px 4px 0px #ff006e;
            animation: flicker 2s infinite;
            line-height: 1.5;
        }

        @keyframes flicker {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        .buttons {
            display: flex;
            gap: 40px;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        button {
            font-family: 'Press Start 2P', cursive;
            font-size: 1.2rem;
            padding: 20px 40px;
            border: 4px solid #fff;
            background-color: #000;
            color: #fff;
            cursor: pointer;
            transition: all 0.1s;
            box-shadow: 4px 4px 0px #fff;
        }

        button:hover {
            transform: translate(-2px, -2px);
            box-shadow: 6px 6px 0px #fff;
        }

        button:active {
            transform: translate(4px, 4px);
            box-shadow: 0px 0px 0px #fff;
        }

        #yesBtn {
            border-color: #00ff00;
            color: #00ff00;
            box-shadow: 4px 4px 0px #00ff00;
        }

        #yesBtn:hover {
            background-color: #00ff00;
            color: #000;
            box-shadow: 6px 6px 0px #00ff00;
        }

        #noBtn {
            border-color: #ff006e;
            color: #ff006e;
            box-shadow: 4px 4px 0px #ff006e;
        }

        #noBtn:hover {
            background-color: #ff006e;
            color: #000;
        }

        .hidden {
            display: none !important;
        }

        #teaseMessage {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 1.5rem;
            color: #ffff00;
            text-shadow: 3px 3px 0px #ff006e;
            z-index: 100;
            text-align: center;
            line-height: 1.5;
        }

        #fineMessage {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1.5rem;
            color: #ff006e;
            text-shadow: 2px 2px 0px #fff;
            z-index: 100;
        }

        #sadGif {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            max-width: 80%;
            max-height: 60vh;
            z-index: 50;
            border: 4px solid #fff;
            box-shadow: 0 0 20px rgba(255, 0, 110, 0.5);
        }

        #yeyMessage {
            position: fixed;
            top: 20%;
            left: 50%;
            transform: translateX(-50%);
            font-size: 2.5rem;
            color: #00ff00;
            text-shadow: 4px 4px 0px #fff;
            animation: bounce 1s infinite;
            z-index: 100;
            text-align: center;
            line-height: 1.5;
        }

        #happyGif {
            position: fixed;
            top: 60%;
            left: 50%;
            transform: translate(-50%, -50%);
            max-width: 80%;
            max-height: 50vh;
            z-index: 50;
            border: 4px solid #00ff00;
            box-shadow: 0 0 30px rgba(0, 255, 0, 0.5);
        }

        @keyframes bounce {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(-20px); }
        }

        /* Efecto de scanlines */
        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                to bottom,
                rgba(255,255,255,0),
                rgba(255,255,255,0) 50%,
                rgba(0,0,0,0.2) 50%,
                rgba(0,0,0,0.2)
            );
            background-size: 100% 4px;
            pointer-events: none;
            z-index: 1000;
        }
    </style>
<base target="_blank">
</head>
<body>
    <div class="container" id="mainContainer">
        <h1 id="mainTitle">Will you be my valentine?</h1>
        <div class="buttons" id="buttonContainer">
            <button id="yesBtn" onclick="handleYes()">YES</button>
            <button id="noBtn" onclick="handleNo()">NO</button>
        </div>
    </div>

    <!-- Mensaje cuando presionan SI antes de tiempo -->
    <div id="teaseMessage" class="hidden">u gotta press "no" lmao</div>

    <!-- Mensaje "FINE THEN..." -->
    <div id="fineMessage" class="hidden">FINE THEN...</div>

    <!-- GIF TRISTE -->
    <img id="sadGif" class="hidden" src="sad.gif" alt="Sad GIF">

    <!-- Mensaje "yey!! meow :3" -->
    <div id="yeyMessage" class="hidden">yey!! meow :3</div>

    <!-- GIF FELIZ -->
    <img id="happyGif" class="hidden" src="happy.gif" alt="Happy GIF">

    <script>
        let noCount = 0;
        let hasPressedNo = false;
        let isInSadPhase = false;
        const noBtn = document.getElementById('noBtn');
        const yesBtn = document.getElementById('yesBtn');
        const mainContainer = document.getElementById('mainContainer');
        const buttonContainer = document.getElementById('buttonContainer');
        const mainTitle = document.getElementById('mainTitle');
        const teaseMessage = document.getElementById('teaseMessage');
        const fineMessage = document.getElementById('fineMessage');
        const sadGif = document.getElementById('sadGif');
        const yeyMessage = document.getElementById('yeyMessage');
        const happyGif = document.getElementById('happyGif');

        function handleYes() {
            if (!hasPressedNo && !isInSadPhase) {
                // Si no han presionado NO antes, mostrar mensaje de broma
                showTeaseMessage();
            } else {
                // Si ya presionaron NO antes o están en fase triste, mostrar éxito
                showHappyEnding();
            }
        }

        function showTeaseMessage() {
            // Ocultar botones temporalmente
            buttonContainer.classList.add('hidden');
            teaseMessage.classList.remove('hidden');

            // Volver a mostrar botones después de 2 segundos
            setTimeout(() => {
                teaseMessage.classList.add('hidden');
                buttonContainer.classList.remove('hidden');
            }, 2000);
        }

        function handleNo() {
            hasPressedNo = true;
            noCount++;

            if (noCount >= 3) {
                showSadEnding();
                return;
            }

            // Mover botón NO a posición aleatoria
            const maxX = window.innerWidth - noBtn.offsetWidth - 20;
            const maxY = window.innerHeight - noBtn.offsetHeight - 20;

            // Asegurar que no quede encima del botón SI
            const yesRect = yesBtn.getBoundingClientRect();
            let randomX, randomY;
            let attempts = 0;

            do {
                randomX = Math.random() * maxX;
                randomY = Math.random() * maxY;
                attempts++;

                // Verificar que no esté muy cerca del botón SI
                const distance = Math.sqrt(
                    Math.pow(randomX - yesRect.left, 2) + 
                    Math.pow(randomY - yesRect.top, 2)
                );

                if (distance > 150 || attempts > 50) break;
            } while (true);

            noBtn.style.position = 'fixed';
            noBtn.style.left = randomX + 'px';
            noBtn.style.top = randomY + 'px';
        }

        function showSadEnding() {
            isInSadPhase = true;

            // Ocultar botón NO y mostrar mensaje
            noBtn.classList.add('hidden');
            fineMessage.classList.remove('hidden');
            sadGif.classList.remove('hidden');

            // Después de 30 segundos, mostrar "what about now?"
            setTimeout(() => {
                // Ocultar GIF triste y mensaje fine
                fineMessage.classList.add('hidden');
                sadGif.classList.add('hidden');

                // Cambiar el texto de la pregunta a "what about now?"
                mainTitle.textContent = 'what about now?';
                mainTitle.style.color = '#ffff00';
                mainTitle.style.animation = 'blink 1s infinite';

                // Mostrar solo el botón SI (NO sigue oculto)
                buttonContainer.classList.remove('hidden');
                yesBtn.style.display = 'inline-block';
                yesBtn.style.margin = '0 auto';

                // Asegurar que NO esté oculto
                noBtn.style.display = 'none';

            }, 3000);
        }

        function showHappyEnding() {
            // Ocultar todo
            mainContainer.classList.add('hidden');
            teaseMessage.classList.add('hidden');
            fineMessage.classList.add('hidden');
            sadGif.classList.add('hidden');

            // Mostrar mensaje "yey!! meow :3" y GIF feliz
            yeyMessage.classList.remove('hidden');
            happyGif.classList.remove('hidden');

            // Efecto de confeti pixelado
            createPixelConfetti();
        }

        function createPixelConfetti() {
            const colors = ['#ff006e', '#00ff00', '#ffff00', '#00ffff', '#ff00ff'];

            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const pixel = document.createElement('div');
                    pixel.style.position = 'fixed';
                    pixel.style.width = '10px';
                    pixel.style.height = '10px';
                    pixel.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    pixel.style.left = Math.random() * window.innerWidth + 'px';
                    pixel.style.top = '-10px';
                    pixel.style.zIndex = '999';
                    document.body.appendChild(pixel);

                    let pos = -10;
                    const fall = setInterval(() => {
                        pos += 5;
                        pixel.style.top = pos + 'px';

                        if (pos > window.innerHeight) {
                            clearInterval(fall);
                            pixel.remove();
                        }
                    }, 20);
                }, i * 100);
            }
        }
    </script>
</body>
</html>
